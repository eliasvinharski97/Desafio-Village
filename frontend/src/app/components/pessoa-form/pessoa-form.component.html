<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card">
        <div class="card-header bg-primary text-white">
          <h3 class="mb-0" style="color: #fff;">Cadastrar Nova Pessoa</h3>
        </div>
        <div class="card-body">
          <form [formGroup]="pessoaForm" (ngSubmit)="onSubmit()">
            <!-- Nome -->
            <div class="mb-3">
              <label for="nome" class="form-label">Nome Completo</label>
              <input
                type="text"
                class="form-control"
                id="nome"
                formControlName="nome"
                [ngClass]="{'is-invalid': pessoaForm.get('nome')?.invalid && pessoaForm.get('nome')?.touched}"
              >
              <div class="invalid-feedback" *ngIf="pessoaForm.get('nome')?.errors?.['required']">
                Nome é obrigatório
              </div>
              <div class="invalid-feedback" *ngIf="pessoaForm.get('nome')?.errors?.['minlength']">
                Nome deve ter pelo menos 3 caracteres
              </div>
            </div>

            <!-- CPF -->
            <div class="mb-3">
              <label for="cpf" class="form-label">CPF</label>
              <input
                type="text"
                class="form-control"
                id="cpf"
                formControlName="cpf"
                placeholder="Apenas números"
                maxlength="11"
                [ngClass]="{'is-invalid': pessoaForm.get('cpf')?.invalid && pessoaForm.get('cpf')?.touched}"
              >
              <div class="invalid-feedback" *ngIf="pessoaForm.get('cpf')?.errors?.['required']">
                CPF é obrigatório
              </div>
              <div class="invalid-feedback" *ngIf="pessoaForm.get('cpf')?.errors?.['pattern']">
                CPF deve conter 11 dígitos numéricos
              </div>
            </div>

            <!-- Data de Nascimento -->
            <div class="mb-3">
              <label for="dataNascimento" class="form-label">Data de Nascimento</label>
              <input
                type="date"
                class="form-control"
                id="dataNascimento"
                formControlName="dataNascimento"
                [ngClass]="{'is-invalid': pessoaForm.get('dataNascimento')?.invalid && pessoaForm.get('dataNascimento')?.touched}"
                [max]="getMaxDate()"
              >
              <div class="invalid-feedback" *ngIf="pessoaForm.get('dataNascimento')?.errors?.['required']">
                Data de nascimento é obrigatória
              </div>
            </div>

            <!-- Botões -->
            <div class="d-grid gap-2">
              <button
                type="submit"
                class="btn btn-primary"
                [disabled]="!pessoaForm.valid"
              >
                Cadastrar
              </button>
              <a routerLink="/" class="btn btn-secondary">Voltar</a>
            </div>

            <!-- Mensagens de Erro e Sucesso -->
            <div class="mt-3">
              <div *ngIf="errorMessage" class="alert alert-danger">
                {{ errorMessage }}
              </div>
              <div *ngIf="successMessage" class="alert alert-success">
                {{ successMessage }}
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div> 